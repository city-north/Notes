# 050-LoRaWAN协议

[TOC]

## LoRaWAN存在的背景

LoRaWAN协议是由LoRa联盟提出并推动的一种低功率广域网协议，它和我们之前介绍的几种协议有所不同。

MQTT协议、CoAP协议都是运行在应用层，底层使用TCP协议或者UDP协议进行数据传输，整个协议栈运行在IP网络上。而LoRaWAN协议则是物理层/数据链路层协议，它解决的是设备如何接入互联网的问题，并不运行在IP网络上。

说到设备如何接入互联网，我们很自然地想到4G、Wi-Fi，如果设备上有4G/Wi-Fi模块，或者支持以太网的网卡，就可以和其他联网终端，比如手机，以同样的方式接入互联网。

但是在某些情况下，4G或者Wi-Fi网络的覆盖非常困难，比如隧道施工的工程设备往往处于隧道深处几千米处，不可能用Wi-Fi或者4G网络覆盖。而工程设备经常在移动，使用有线网络与现场环境也不匹配。

## 什么是LoRa

LoRa（Long Range）是一种无线通信技术，它具有使用距离远、功耗低的特点。在上面的场景下，用户就可以使用LoRaWAN技术进行组网，在工程设备上安装支持LoRA的模块。通过LoRa的中继设备将数据发往位于隧道外部的、有互联网接入的LoRa网关，LoRa网关再将数据封装成可以在IP网络中通过TCP协议或者UDP协议传输的数据协议包（比如MQTT协议），然后发往云端的数据中心。