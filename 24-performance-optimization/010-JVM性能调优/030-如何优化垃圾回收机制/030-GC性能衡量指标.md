# 030-GC 性能衡量指标

[TOC]

一个垃圾收集器在不同场景下表现出的性能也不一样，那么如何评价一个垃圾收集器的性能好坏呢？我们可以借助一些指标。

## 吞吐量

这里的吞吐量是指**应用程序所花费的时间**和**系统总运行时间**的比值。我们可以按照这个公式来计算 GC 的吞吐量：

```
系统总运行时间 = 应用程序耗时 +GC 耗时
```

如果系统运行了 100 分钟，GC 耗时 1 分钟，则系统吞吐量为 99%。GC 的吞吐量一般不能低于 95%。

## 停顿时间

指垃圾收集器正在运行时，应用程序的暂停时间。

- 对于串行回收器而言，停顿时间可能会比较长；
- 而使用并发回收器，由于垃圾收集器和应用程序交替运行，程序的停顿时间就会变短，但其效率很可能不如独占垃圾收集器，系统的吞吐量也很可能会降低。

## 垃圾回收频率

多久发生一次垃圾回收呢？

通常垃圾回收的频率越低越好，增大堆内存空间可以有效降低垃圾回收发生的频率，但同时也意味着堆积的回收对象越多，最终也会增加回收时的停顿时间。

所以我们只要适当地增大堆内存空间，保证正常的垃圾回收频率即可

