# 03-Netty

[TOC]

## Netty是什么



## JavaIO的劣势

Java1.4之前的早期版本， Java对IO的支持并不完善， 开发人员在开发高性能IO程序的时候， 会面临一些巨大的挑战和困难， 主要问题如下

1. 没有数据缓冲区，IO性能存在问题
2. 没有C或者C++的Channel的概念， 只有输入和输出流
3. 同步阻塞方式的IO(BIO)，通常会导致通讯现成被长时间阻塞，
4. 支持的字符集有限，硬件可移植性不是很好

在Java支持异步IO之前的很长一段时间里， 高性能服务端开发领域一直被C++占据， Java的同步



## Linux网络IO模型简介

Linux的内核将所有外部设备都看作是一个文件来操作，

- 对一个文件的读写操作会调用内核提供的系统命令， 返回一个file descriptor ， （fd） 文件描述符， 
- 对应一个socket的读写也会有相应的描述符， 称为 socketfd(socket描述符)

描述符就是一个数字， 它只想内核中的一个结构体（文件路径，数据区 等一系列属性）



## Netty的核心优势

Netty之所以受青睐, 是因为Netty 提供异步的、事件驱动的网络应用程序框架和工具

作为一个异步框架,Netty 所有的IO操作都是异步非阻塞的, 通过 Feture-Listener 机制, 用户可以方便的主动获取或者通过通知机制获取IO操作结果

与原生的JDK NIO相比, Netty 提供了十分简单易用的API , 因而非常是和网络编程, Netty是基于NIO来实现的,但是在Netty中也可以提供阻塞的IO服务

#### 核心特点

- 功能强大,预支了多种编解码工具,支持多种主流协议
- 定制能力强, 可以通过 ChannelHandler 对通讯框架进行灵活拓展
- 性能高, 与其他业界主流的NIO框架对比,Netty 总和性能最优
- 成熟稳定, Netty修复了已经发现的所有JDK, NIO中的bug, 业务开发人员不需要再为NIO的bug而烦恼
  - 社区活跃,版本迭代周期短,发现的bug可以被及时修复5

