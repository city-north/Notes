# 介绍一下 Redis 持久化机制

>  知识点   [README.md](../../13-persistence/02-Redis/050-Redis底层实现原理/040-Redis底层实现-持久化/README.md) 

Redis 是基于内存实现的,所以断电以后数据会丢失,因此需要进行持久化,默认有两个持久化策略

- RDB , 快照, 全量备份, 恢复速度快 

  > RDB 模式下, redis 会 从fork 一个子进程,快照的持久化交给子进程来处理

- AOF , 日志, 增量备份,恢复速度慢

  > AOF 日志以文件形式存在的,当程序对 AOF 日志进行写操作时.实际上是将内容写到内核为文件描述符分配的一个内存缓冲中,然后内核会异步将脏数据刷到磁盘

- 混合持久化, AOF 重写时子线程将当前时间点的数据快照保存为 RDB 文件格式,而后将父进程累积的命令保存为 AOF